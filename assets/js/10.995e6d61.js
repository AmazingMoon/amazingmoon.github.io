(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{409:function(t,s,a){t.exports=a.p+"assets/img/ci_hexo1.ee275aa3.png"},410:function(t,s,a){t.exports=a.p+"assets/img/ci_hexo2.e00b0436.png"},411:function(t,s,a){t.exports=a.p+"assets/img/ci_hexo3.5b12b36f.png"},412:function(t,s,a){t.exports=a.p+"assets/img/ci_hexo4.d6ec09d3.png"},466:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"travis-ci部署hexo"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#travis-ci部署hexo"}},[t._v("#")]),t._v(" Travis CI部署hexo")]),t._v(" "),n("blockquote",[n("p",[t._v("几个配置")])]),t._v(" "),n("hr"),t._v(" "),n("ul",[n("li",[t._v("在"),n("a",{attrs:{href:"https://www.travis-ci.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Travis CI官网"),n("OutboundLink")],1),t._v("中通过github账号登录")]),t._v(" "),n("li",[t._v("选择需要构建的项目")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(409),alt:"An image"}})]),t._v(" "),n("ul",[n("li",[t._v("Settings中勾选这两项")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(410),alt:"An image"}})]),t._v(" "),n("ul",[n("li",[t._v("github settings中生成一个Personal access tokens")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(411),alt:"An image"}})]),t._v(" "),n("ul",[n("li",[t._v("将tokens配置在构建项目settings中的Environment Variables（Name自定义，Value是github中生成的token）")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(412),alt:"An image"}})]),t._v(" "),n("blockquote",[n("p",[t._v("hexo项目的操作")])]),t._v(" "),n("hr"),t._v(" "),n("ol",[n("li",[t._v("新建并且切换到分支source")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("将本地hexo项目源码复制过来并且新建一个.travis.yml文件（Travis-CI的部署配置文件）")])]),t._v(" "),n("div",{staticClass:"language-yaml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("language")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" node_js\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("node_js")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stable\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm install\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" hexo clean "),n("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" hexo g\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("after_script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" cd ./public\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git init\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.name "xxx"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' git config user.email "xxx"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git add .\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git commit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('m "'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("memo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('\\ Update blog by Travis CI"\n  '),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" git push "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("force "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('quiet "https'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_TOKEN"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("@$"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("GH_REF"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v('" master'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("master\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("only")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" source\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("global")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GH_REF")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" github.com/xxx/xxx.github.io.git\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("push分支到远程Travis-CI branch")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin source:source\n")])])]),n("blockquote",[n("p",[t._v("最后")])]),t._v(" "),n("hr"),t._v(" "),n("p",[n("em",[t._v("只需要在source/_posts/文件夹下增删改.md文件然后push分支就可以了,剩下的事情就交给Travis CI了")])])])}),[],!1,null,null,null);s.default=e.exports}}]);